<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Configuring your modem</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.52">
<link rel="HOME" title="Linux PPP HOWTO" href="index.html">
<link rel="UP" title="Configuring your modem and serial port" href="modem.html">
<link rel="PREVIOUS" title="Serial Port Names" href="x753.html">
<link rel="NEXT" title="Note on Serial Flow Control" href="x797.html">
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="NAVHEADER">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><th colspan="3" align="center"><a href="http://www.linuxports.com/howto/ppp" target="_top">Linux PPP HOWTO</a></th></tr>
<tr>
<td width="10%" align="left" valign="bottom"><a href="x753.html">Prev</a></td>
<td width="80%" align="center" valign="bottom">Chapter 12. Configuring your modem and serial port</td>
<td width="10%" align="right" valign="bottom"><a href="x797.html">Next</a></td>
</tr>
</table>
<hr align="LEFT" width="100%">
</div>
<div class="SECT1">
<h1 class="SECT1"><a name="AEN761">12.3. Configuring your modem</a></h1>
<p>You will need to configure your modem correctly for PPP - to do this <i class="EMPHASIS">READ
YOUR MODEM MANUAL</i>! Most modems come with a <i class="EMPHASIS">factory default setting</i>
that selects the options required for PPP. The minimum configuration
specifies:-

</p>
<p></p>
<ul><li><p>Hardware flow control (RTS/CTS) (<tt class="LITERAL">&amp;</tt>K3 on many Hayes modems)</p></li></ul><p>Other settings (in standard Hayes commands) you should investigate are:

</p>
<p></p>
<ul>
<li><p>E1 Command/usr/src/linux-2.0.27/include/linux/serial.h Echo ON (required for chat to operate).</p></li>
<li><p>Q0 Report result codes (required for chat to operate).</p></li>
<li><p>S0=0 Auto Answer OFF (unless you want your modem to answer the phone).</p></li>
<li><p><tt class="LITERAL">&amp;</tt>C1 Carrier Detect ON only after connect.</p></li>
<li><p><tt class="LITERAL">&amp;</tt>S0 Data Set Ready (DSR) always ON.</p></li>
<li><p>(depends)   Data Terminal Ready.</p></li>
</ul><p>There is a site offering modem setups for a growing variety of modems,
makes and models at <a href="http://www.in.net/info/modems/index.html" target="_top">Modem setup information</a> which may assist you in this.</p>
<p>It is also worth while investigating how the modem's serial interface
between your computer and modem operates. Most modern modems allow you
to run the serial interface at a FIXED speed whilst allowing the
telephone line interface to change its speed to the highest speed it and
the remote modem can both handle.</p>
<p>This is known as split speed operation. If your modem supports this,
lock the modem's serial interface to its highest available speed
(usually 115,200 baud but maybe 38,400 baud for 14,400 baud modems).</p>
<p>Use your communications software (e.g. minicom or seyon) to find out
about your modem configuration and set it to what is required for PPP.
Many modems report their current settings in response to
AT<tt class="LITERAL">&amp;</tt>V, but you should consult your modem manual.</p>
<p>If you completely mess up the settings, you can return to sanity
(usually) by issuing an AT<tt class="LITERAL">&amp;</tt>F - return to factory settings.
(For most modem modems I have encountered, the factory settings include
all you need for PPP - but you should check).</p>
<p>Once you have worked out the modem setup string required, write it down.
You now have a decision: you can store these settings in your modem
non-volatile memory so they can be recalled by issuing the appropriate
AT command, or you can pass the correct settings to your
modem as part of the PPP dialing process.</p>
<p>If you only use your modem from Linux to call into your ISP or corporate
server, the simplest set up will have you save your modem configuration
in non-volatile RAM. </p>
<p>If on the other hand, you modem is used by other applications and
operating systems, it is safest to pass this information to the modem as
each call is made so that the modem is guaranteed to be in the correct
state for the call. (This has the added advantage also of recording the modem
setup string in case the modem looses  the contents of its NV-RAM, which
can indeed happen).</p>
</div>
<div class="NAVFOOTER">
<hr align="LEFT" width="100%">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="x753.html">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html">Home</a></td>
<td width="33%" align="right" valign="top"><a href="x797.html">Next</a></td>
</tr>
<tr>
<td width="33%" align="left" valign="top">Serial Port Names</td>
<td width="34%" align="center" valign="top"><a href="modem.html">Up</a></td>
<td width="33%" align="right" valign="top">Note on Serial Flow Control</td>
</tr>
</table>
</div>
</body>
</html>
