<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Testing your modem for dial out</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.52">
<link rel="HOME" title="Linux PPP HOWTO" href="index.html">
<link rel="UP" title="Configuring your modem and serial port" href="modem.html">
<link rel="PREVIOUS" title="Note on Serial Flow Control" href="x797.html">
<link rel="NEXT" title="Setting up Name to Address Resolution (DNS)" href="dns.html">
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="NAVHEADER">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><th colspan="3" align="center"><a href="http://www.linuxports.com/howto/ppp" target="_top">Linux PPP HOWTO</a></th></tr>
<tr>
<td width="10%" align="left" valign="bottom"><a href="x797.html">Prev</a></td>
<td width="80%" align="center" valign="bottom">Chapter 12. Configuring your modem and serial port</td>
<td width="10%" align="right" valign="bottom"><a href="dns.html">Next</a></td>
</tr>
</table>
<hr align="LEFT" width="100%">
</div>
<div class="SECT1">
<h1 class="SECT1"><a name="AEN808">12.5. Testing your modem for dial out</a></h1>
<p>Now that you have sorted out the serial port and modem settings it is a
good idea to make sure that these setting do indeed work by dialing you
ISP and seeing if you can connect.</p>
<p>Using you terminal communications package (such as minicom), set up the
modem initialisation required for PPP and dial into the PPP server you
want to connect to with a PPP session.</p>
<p>(Note: at this stage we are <i class="EMPHASIS">NOT</i> trying to make a PPP connection
- just establishing that we have the right phone number and also to find
out <i class="EMPHASIS">exactly</i> what the server sends to us in order to get logged in and
start PPP).</p>
<p>During this process, either capture (log to a file) the entire login
process or carefully (<i class="EMPHASIS">very carefully</i>) write down <i class="EMPHASIS">exactly</i> what
prompts the server gives to let you know it is time to enter your
user name and password (and any other commands needed to establish the
PPP connection).</p>
<p>If your server uses PAP, you should not see a login prompt, but should
instead see the (text representation) of the link control protocol
(which looks like garbage) starting on your screen.</p>
<p>A few words of warning:-</p>
<p></p>
<p></p>
<ul>
<li><p>some servers are quite intelligent: you can log in
using text based user name/passwords OR using PAP. So if your ISP or
corporate site uses PAP but you do not see the garbage start up
immediately, this may not mean you have done something wrong.</p></li>
<li><p>some servers require you to enter some text initially and <i class="EMPHASIS">then</i>
start a standard PAP sequence.</p></li>
<li><p>Some PPP servers are passive - that is they simply sit there
sending nothing until the client that is dialing in sends them a valid
lcp packet. If the ppp server you are connecting to operates in passive
mode, you will never see the garbage!</p></li>
<li><p>Some servers do not start PPP until you press ENTER - so it is
worth trying this if you correctly log in and do not see the garbage!</p></li>
</ul><p>It is worth dialing in at least twice - some servers change their
prompts (e.g. with the time!) every time you log in. The two critical
prompts your Linux box needs to be able to identify every time you dial
in are:-

</p>
<p></p>
<ul>
<li><p>the prompt that requests you to enter your user name;</p></li>
<li><p>the prompt that requests you to enter your password;</p></li>
</ul><p>If you have to issue a command to start PPP on the server, you will also
need to find out the prompt the server gives you once you are logged in
to tell you that you can now enter the command to start ppp.</p>
<p>If your server automatically starts PPP, once you have logged in,
you will start to see garbage on your screen - this is the PPP server
sending your machine information to start up and configure the PPP
connection.</p>
<p>This should look something like this :-</p>
<p></p>
<table border="0" bgcolor="#E0E0E0" width="100%"><tr><td><pre class="PROGRAMLISTING">~y}#.!}!}!} }8}!}$}%U}"}&amp;} } } } }%}&amp; ...}'}"}(}"} .~~y}</pre></td></tr></table><p>(and it just keeps on coming!)</p>
<p>On some systems PPP must be explicitly started on the server. This
is usually because the server has been set up to allow PPP logins and
shell logins using the same user name/password pair. If this is the case,
issue this command once you have logged in. Again, you will see the
garbage as the server end of the PPP connection starts up.</p>
<p>If you do not see this immediately after connecting (and logging in and
starting the PPP server if required), press <i class="EMPHASIS">Enter</i> to see if this
starts the PPP server.</p>
<p>At this point, you can hang up your modem (usually, type <tt class="LITERAL">+++</tt>
quickly and then issue the ATHO command once your modem responds with
OK).</p>
<p>If you can't get your modem to work, read your modem manual, the man
pages for your communications software and the Serial HOWTO! Once you
have this sorted out, carry on as above.</p>
</div>
<div class="NAVFOOTER">
<hr align="LEFT" width="100%">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="x797.html">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html">Home</a></td>
<td width="33%" align="right" valign="top"><a href="dns.html">Next</a></td>
</tr>
<tr>
<td width="33%" align="left" valign="top">Note on Serial Flow Control</td>
<td width="34%" align="center" valign="top"><a href="modem.html">Up</a></td>
<td width="33%" align="right" valign="top">Setting up Name to Address Resolution (DNS)</td>
</tr>
</table>
</div>
</body>
</html>
